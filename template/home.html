<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forum with Messages</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        
        .main-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .sections-container {
            display: flex;
            flex: 1;
            gap: 20px;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .forum-section {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            overflow-y: auto; /* Enable scrolling for long lists */
            background-color: white;
        }

        #categories-section {
            flex: 0.5; /* Smaller width */
        }

        #posts-section {
            flex: 2; /* Wider than others */
        }

        #users-section {
            flex: 0.8;
        }

        /* Header styling */
        header {
            background: #333;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #logout-btn {
            background: #ff4444;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
        }

        /* Additional styling for content */
        .category, .post, .user {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        .category {
            background-color: #e1f5fe;
            border-left: 4px solid #03a9f4;
        }

        .category:hover {
            background-color: #b3e5fc;
        }

        .post {
            background-color: #f1f8e9;
            border-left: 4px solid #8bc34a;
        }

        .post:hover {
            background-color: #dcedc8;
        }

        .user {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #f3e5f5;
            border-left: 4px solid #9c27b0;
        }

        .user:hover {
            background-color: #e1bee7;
        }

        .status {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .status.online {
            background-color: #4caf50;
        }

        .status.offline {
            background-color: #9e9e9e;
        }

        h2 {
            margin-top: 0;
            color: #333;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        h3 {
            margin: 0 0 5px 0;
        }
        
        #messages-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #5865F2; /* Discord-like blue */
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        
        #messages-icon .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #f04747;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        #messages-container {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            height: 400px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            z-index: 1000;
            border: 1px solid #ddd;
        }
        
        #messages-header {
            padding: 10px;
            background-color: #5865F2;
            color: white;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            display: flex;
            justify-content: space-between;
        }
        
        #messages-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }
        
        #messages-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }
        
        .message {
            padding: 8px;
            margin-bottom: 10px;
            border-radius: 4px;
            background-color: #f5f5f5;
        }
        
        .message-sender {
            font-weight: bold;
            color: #5865F2;
        }
        
        .message-time {
            font-size: 0.8em;
            color: #999;
        }
        
        .message-content {
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header (e.g., logout button) -->
        <header>
            <h1>Forum</h1>
            <button id="logout-btn">Logout</button>
        </header>

        <!-- Three Subsections -->
        <div class="sections-container">
            <!-- 1. Categories Section -->
            <section id="categories-section" class="forum-section">
                <h2>Categories</h2>
                <div id="categories-list">
                    <!-- Categories content -->
                </div>
            </section>

            <!-- 2. Posts Section -->
            <section id="posts-section" class="forum-section">
                <h2>Posts</h2>
                <div id="posts-feed">
                    <!-- Posts content -->
                </div>
            </section>

            <!-- 3. Users Section (for private messages) -->
            <section id="users-section" class="forum-section">
                <h2>Users</h2>
                <div id="users-list">
                    <!-- Users content -->
                </div>
            </section>
        </div>
        
        <!-- Messages Icon (fixed position) -->
        <div id="messages-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            <div class="badge" id="message-count">0</div>
        </div>
        
        <!-- Messages Container (hidden by default) -->
        <div id="messages-container">
            <div id="messages-header">
                <span>Messages</span>
                <button id="messages-close">âœ•</button>
            </div>
            <div id="messages-list">
                <!-- Messages will appear here -->
                <div class="message">
                    <div class="message-sender">JohnDoe</div>
                    <div class="message-time">2 minutes ago</div>
                    <div class="message-content">Hey, how's it going?</div>
                </div>
                <div class="message">
                    <div class="message-sender">Alice</div>
                    <div class="message-time">10 minutes ago</div>
                    <div class="message-content">Did you see the new update?</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Message notification system
        let unreadMessages = 0;
        let messages = [
            {
                sender: "JohnDoe",
                time: "2 minutes ago",
                content: "Hey, how's it going?",
                read: false
            },
            {
                sender: "Alice",
                time: "10 minutes ago",
                content: "Did you see the new update?",
                read: false
            }
        ];
        
        // DOM elements
        const messagesIcon = document.getElementById('messages-icon');
        const messageCount = document.getElementById('message-count');
        const messagesContainer = document.getElementById('messages-container');
        const messagesList = document.getElementById('messages-list');
        const messagesClose = document.getElementById('messages-close');
        
        // Update unread count
        function updateUnreadCount() {
            unreadMessages = messages.filter(msg => !msg.read).length;
            messageCount.textContent = unreadMessages;
            messageCount.style.display = unreadMessages > 0 ? 'flex' : 'none';
        }
        
        // Render messages
        function renderMessages() {
            messagesList.innerHTML = messages.map(msg => `
                <div class="message ${msg.read ? '' : 'unread'}">
                    <div class="message-sender">${msg.sender}</div>
                    <div class="message-time">${msg.time}</div>
                    <div class="message-content">${msg.content}</div>
                </div>
            `).join('');
        }
        
        // Toggle messages container
        function toggleMessages() {
            if (messagesContainer.style.display === 'flex') {
                messagesContainer.style.display = 'none';
            } else {
                messagesContainer.style.display = 'flex';
                // Mark all messages as read when opened
                messages.forEach(msg => msg.read = true);
                updateUnreadCount();
                renderMessages();
            }
        }
        
        // Event listeners
        messagesIcon.addEventListener('click', toggleMessages);
        messagesClose.addEventListener('click', () => {
            messagesContainer.style.display = 'none';
        });
        
        // Simulate receiving a new message
        function simulateNewMessage() {
            const senders = ['JohnDoe', 'Alice', 'Bob', 'Charlie', 'Admin'];
            const contents = [
                "Can you help me with something?",
                "Check out this cool link!",
                "When will the update be released?",
                "Let's discuss the project",
                "Important announcement coming soon"
            ];
            
            const newMessage = {
                sender: senders[Math.floor(Math.random() * senders.length)],
                time: "Just now",
                content: contents[Math.floor(Math.random() * contents.length)],
                read: false
            };
            
            messages.unshift(newMessage);
            updateUnreadCount();
            
            if (messagesContainer.style.display === 'flex') {
                renderMessages();
            }
        }
        
        // Initialize
        updateUnreadCount();
        renderMessages();
        
        // Simulate receiving messages periodically (for demo)
        setInterval(simulateNewMessage, 10000); // Every 10 seconds
        
        //functions
        function loadMainApplication() {
            // ...  implementation ...
        }
        
        function loadCategories() {
             // ...  implementation ...
        }
        
        function loadPosts() {
              // ...  implementation ...
        }
        
        function loadOnlineUsers() {
            // ... your existing implementation ...
        }
        
        function handleLogout() {
               // ...  implementation ...
        }
        
        window.loadMainApplication = loadMainApplication;
    </script>
</body>
</html>